{"ast":null,"code":"import axios from 'axios';\nimport { setUser } from \"../reducers/userReducer\";\nexport const authorization = (login, password, setUsername) => {\n  return async dispatch => {\n    try {\n      const response = await axios.post(`http://localhost:5000/api/auth/login`, {\n        login,\n        password\n      });\n      dispatch(setUser(response.data.user));\n      setUsername(response.data.user.email);\n    } catch (e) {\n      alert(e.response.data.message);\n    }\n  };\n};\nexport const registration = async (login, email, password) => {\n  try {\n    const response = await axios.post('http://localhost:5000/api/auth/registration', {\n      login,\n      email,\n      password\n    });\n    alert(response.data.message);\n    console.log(response.data.message);\n  } catch (e) {\n    alert(e.response.data.message);\n  }\n  authorization(login, password);\n};","map":{"version":3,"names":["axios","setUser","authorization","login","password","setUsername","dispatch","response","post","data","user","email","e","alert","message","registration","console","log"],"sources":["C:/Users/Хобана/WebstormProjects/registration-app/src/actions/user.js"],"sourcesContent":["import axios from 'axios';\r\nimport {setUser} from \"../reducers/userReducer\";\r\nexport const authorization = (login, password, setUsername)=>{\r\n    return async dispatch =>{\r\n        try {\r\n            const response = await axios.post(`http://localhost:5000/api/auth/login`, {\r\n                    login,\r\n                    password\r\n                }\r\n            )\r\n            dispatch(setUser(response.data.user));\r\n            setUsername(response.data.user.email);\r\n        }\r\n        catch(e){\r\n            alert(e.response.data.message);\r\n        }\r\n    }\r\n}\r\nexport const registration = async(login, email, password)=>{\r\n    try {\r\n        const response = await axios.post('http://localhost:5000/api/auth/registration', {\r\n                login,\r\n                email,\r\n                password\r\n            }\r\n        )\r\n        alert(response.data.message);\r\n        console.log(response.data.message);\r\n    }\r\n    catch(e){\r\n        alert(e.response.data.message);\r\n    }\r\n    authorization(login, password);\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,OAAO,QAAO,yBAAyB;AAC/C,OAAO,MAAMC,aAAa,GAAG,CAACC,KAAK,EAAEC,QAAQ,EAAEC,WAAW,KAAG;EACzD,OAAO,MAAMC,QAAQ,IAAG;IACpB,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,IAAI,CAAE,sCAAqC,EAAE;QAClEL,KAAK;QACLC;MACJ,CAAC,CACJ;MACDE,QAAQ,CAACL,OAAO,CAACM,QAAQ,CAACE,IAAI,CAACC,IAAI,CAAC,CAAC;MACrCL,WAAW,CAACE,QAAQ,CAACE,IAAI,CAACC,IAAI,CAACC,KAAK,CAAC;IACzC,CAAC,CACD,OAAMC,CAAC,EAAC;MACJC,KAAK,CAACD,CAAC,CAACL,QAAQ,CAACE,IAAI,CAACK,OAAO,CAAC;IAClC;EACJ,CAAC;AACL,CAAC;AACD,OAAO,MAAMC,YAAY,GAAG,OAAMZ,KAAK,EAAEQ,KAAK,EAAEP,QAAQ,KAAG;EACvD,IAAI;IACA,MAAMG,QAAQ,GAAG,MAAMP,KAAK,CAACQ,IAAI,CAAC,6CAA6C,EAAE;MACzEL,KAAK;MACLQ,KAAK;MACLP;IACJ,CAAC,CACJ;IACDS,KAAK,CAACN,QAAQ,CAACE,IAAI,CAACK,OAAO,CAAC;IAC5BE,OAAO,CAACC,GAAG,CAACV,QAAQ,CAACE,IAAI,CAACK,OAAO,CAAC;EACtC,CAAC,CACD,OAAMF,CAAC,EAAC;IACJC,KAAK,CAACD,CAAC,CAACL,QAAQ,CAACE,IAAI,CAACK,OAAO,CAAC;EAClC;EACAZ,aAAa,CAACC,KAAK,EAAEC,QAAQ,CAAC;AAClC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}